!function(a,b){"use strict";function f(){return null===d&&(d=b.Mustache,void 0===d&&a.error("Failed to locate Mustache instance, are you sure it has been loaded?")),d}function g(a){return void 0!==c[a]}function h(b,d){return!e.allowOverwrite&&g(b)?void a.error("TemplateName: "+b+" is already mapped."):void(c[b]=a.trim(d))}function i(){var b;b=0===arguments.length?a('script[type="'+e.domTemplateType+'"]').map(function(){return this.id}):a.makeArray(arguments),a.each(b,function(){var b=document.getElementById(this);null===b?a.error("No such elementId: #"+this):h(this,a(b).html())})}function j(a){var b=c[a];return delete c[a],b}function k(){c={},f().clearCache()}function l(b,d){return g(b)?f().to_html(c[b],d,c):(e.warnOnMissingTemplates&&a.error("No template registered for: "+b),"")}function m(b,c){return a.ajax({url:b,dataType:e.externalTemplateDataType}).done(function(b){a(b).filter("script").each(function(b,c){h(c.id,a(c).html())}),a.isFunction(c)&&c()})}function n(){return a.map(c,function(a,b){return b})}var c={},d=null,e={warnOnMissingTemplates:!1,allowOverwrite:!0,domTemplateType:"text/html",externalTemplateDataType:"text"};a.Mustache={options:e,load:m,has:g,add:h,addFromDom:i,remove:j,clear:k,render:l,templates:n,instance:d},a.fn.mustache=function(b,c,d){var e=a.extend({method:"append"},d),f=function(c,d){a(c)[e.method](l(b,d))};return this.each(function(){var b=this;a.isArray(c)?a.each(c,function(){f(b,this)}):f(b,c)})}}(window.jQuery||window.Zepto,window);
